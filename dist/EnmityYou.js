function C(o){window.enmity.plugins.registerPlugin(o)}function v(o){return window.enmity.patcher.create(o)}function r(...o){return window.enmity.modules.getByProps(...o)}function I(...o){return window.enmity.modules.getByName(...o)}window.enmity.modules.common,window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const u=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings;const p=window.enmity.modules.common.Users;window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;var F="EnmityYou",R="1.1.5",b="Allows you to use Enmity inside of the new You Tab. Enable from DevTools Widget \u279D Design Toggles :3",O=[{name:"Rosie<3",id:"581573474296791211"}],_="#ff91ff",y={name:F,version:R,description:b,authors:O,color:_};const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl,e.ScrollView,e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable;const h=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio,e.FormRow,e.FormSection,e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;function E(o){return window.enmity.assets.getIDByName(o)}const g={general:"ENMITY",plugins:"ENMITY_PLUGINS",themes:"ENMITY_THEMES",page:"ENMITY_PAGE"},c={general:"Enmity",plugins:"EnmityPlugins",themes:"EnmityThemes",page:"EnmityCustomPage"},P={general:"General",plugins:"Plugins",themes:"Themes",page:"Page"},A={general:{uri:"https://files.enmity.app/icon-64.png"},plugins:E("ic_activity_24px"),themes:E("img_nitro_star"),page:null};c.general,c.general,c.general,c.general;const S={general:null,plugins:g.general,themes:g.general,page:null},t=Object.keys(c).map(o=>({[o]:{upper:g[o],route:c[o],title:P[o],icon:A[o],relationship:S[o]}})).reduce((o,m)=>({...o,...m}),{}),G=I("getScreens"),L=r("SETTING_RENDERER_CONFIGS");var T=()=>{const{Enmity:o,EnmityPlugins:m,EnmityThemes:d}=G(p.getCurrentUser()),[s,a]=[m,d].map(n=>({navigation:i,route:l})=>(u.useEffect(()=>{l!=null&&l.hasSetHeaderRight||(l.hasSetHeaderRight=!0,i.setOptions({headerRight:()=>n.headerRight?u.createElement(h,{style:{left:12}},u.createElement(n.headerRight,null)):null}))},[]),u.createElement(n.render,null)));Object.assign(L.SETTING_RENDERER_CONFIGS,Object.entries({general:{route:t.general.route,getComponent:()=>o.render},plugins:{route:t.plugins.route,getComponent:()=>s},themes:{route:t.themes.route,getComponent:()=>a},page:{route:t.page.route,getComponent:()=>({navigation:n,route:{params:i}})=>{var l;const f=(l=i.pagePanel)!=null?l:h;return u.useEffect(()=>{i.pageName&&!i.hasSetTitle&&(i.hasSetTitle=!0,n.setOptions({title:i.pageName}))},[]),u.createElement(f,null)}}}).map(([n,i])=>({[t[n].upper]:{type:"route",icon:t[n].icon,screen:i}})).reduce((n,i)=>({...n,...i}),{}))};const M=r("getSettingTitleConfig");var D=o=>{o.after(M,"getSettingTitleConfig",(m,d,s)=>{const a=Object.keys(t).map(n=>({[t[n].upper]:t[n].title})).reduce((n,i)=>({...n,...i}),{});return{...s,...a}})};const B=r("SETTING_RENDERER_CONFIGS");var k=()=>{Object.assign(B.SETTING_RELATIONSHIPS,Object.keys(S).map(o=>({[t[o].upper]:t[o].relationship})).reduce((o,m)=>({...o,...m}),{}))};const x=r("useSettingsOverviewScreenLayout");var H=o=>{o.after(x,"useSettingsOverviewScreenLayout",(m,d,s)=>{const a=s.findIndex(n=>n==null?void 0:n.settings.find(i=>i==="ACCOUNT"));!s.find(n=>n.title===t.general.route)&&(s==null||s.splice(a===-1?1:a+1,0,{title:t.general.route,settings:[t.general.upper,t.plugins.upper,t.themes.upper]}))})};const w=v(y.name),N=r("_currentDispatchActionType"),j=(...o)=>o.forEach(m=>r(m)[m]={...r(m)[m]}),U={...y,onStart(){if(j("SETTING_RENDERER_CONFIGS","SETTING_RELATIONSHIPS"),D(w),H(w),k(),p.getCurrentUser())T();else{let o=function(){N.unsubscribe("CONNECTION_OPEN",o),T()};N.subscribe("CONNECTION_OPEN",o)}},onStop(){w.unpatchAll()}};C(U);
