function F(e){window.enmity.plugins.registerPlugin(e)}function R(e){return window.enmity.patcher.create(e)}function u(...e){return window.enmity.modules.getByProps(...e)}function y(...e){return window.enmity.modules.getByName(...e)}window.enmity.modules.common,window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const g=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings;const T=window.enmity.modules.common.Users;window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;var O="EnmityYou",_="1.1.4",P="Allows you to use Enmity inside of the new You Tab. Enable from DevTools Widget \u279D Design Toggles :3",A=[{name:"Rosie<3",id:"581573474296791211"}],M="#ff91ff",E={name:O,version:_,description:P,authors:A,color:M};const{components:n}=window.enmity;n.Alert,n.Button,n.FlatList,n.Image,n.ImageBackground,n.KeyboardAvoidingView,n.Modal,n.Pressable,n.RefreshControl,n.ScrollView,n.SectionList,n.StatusBar,n.StyleSheet,n.Switch,n.Text,n.TextInput,n.TouchableHighlight,n.TouchableOpacity,n.TouchableWithoutFeedback,n.Touchable;const S=n.View;n.VirtualizedList,n.Form,n.FormArrow,n.FormCTA,n.FormCTAButton,n.FormCardSection,n.FormCheckbox,n.FormDivider,n.FormHint,n.FormIcon,n.FormInput,n.FormLabel,n.FormRadio,n.FormRow,n.FormSection,n.FormSelect,n.FormSubLabel,n.FormSwitch,n.FormTernaryCheckBox,n.FormText,n.FormTextColors,n.FormTextSizes;function h(e){return window.enmity.assets.getIDByName(e)}const p={general:"ENMITY",plugins:"ENMITY_PLUGINS",themes:"ENMITY_THEMES",page:"ENMITY_PAGE"},d={general:"Enmity",plugins:"EnmityPlugins",themes:"EnmityThemes",page:"EnmityCustomPage"},G={general:"General",plugins:"Plugins",themes:"Themes",page:"Page"},L={general:{uri:"https://files.enmity.app/icon-64.png"},plugins:h("ic_activity_24px"),themes:h("img_nitro_star"),page:null},k={general:["Modifications",d.general],plugins:["Modifications",d.general],themes:["Modifications",d.general],page:["Modifications",d.general]},f={general:null,plugins:p.general,themes:p.general,page:null},D=Object.entries(d).map(([e,t])=>({[e]:{breadcrumbs:k[e],route:t}})).reduce((e,t)=>({...e,...t}),{}),m=Object.keys(d).map(e=>({[e]:{upper:p[e],route:d[e],title:G[e],icon:L[e],relationship:f[e],ancestor:D[e]}})).reduce((e,t)=>({...e,...t}),{}),B=y("getScreens"),x=u("SETTING_RENDERER_CONFIGS");var N=()=>{const{Enmity:e,EnmityPlugins:t,EnmityThemes:r}=B(T.getCurrentUser()),[c,a]=[t,r].map(o=>({navigation:i,route:s})=>(g.useEffect(()=>{s!=null&&s.hasSetHeaderRight||(s.hasSetHeaderRight=!0,i.setOptions({headerRight:()=>o.headerRight?g.createElement(S,{style:{left:12}},g.createElement(o.headerRight,null)):null}))},[]),g.createElement(o.render,null)));Object.assign(x.SETTING_RENDERER_CONFIGS,Object.entries({general:{route:m.general.route,getComponent:()=>e.render},plugins:{route:m.plugins.route,getComponent:()=>c},themes:{route:m.themes.route,getComponent:()=>a},page:{route:m.page.route,getComponent:()=>({navigation:o,route:{params:i}})=>{var s;const l=(s=i.pagePanel)!=null?s:S;return g.useEffect(()=>{i.pageName&&!i.hasSetTitle&&(i.hasSetTitle=!0,o.setOptions({title:i.pageName}))},[]),g.createElement(l,null)}}}).map(([o,i])=>({[m[o].upper]:{type:"route",icon:m[o].icon,screen:i}})).reduce((o,i)=>({...o,...i}),{}))};function j(e,t,r){return window.enmity.utilities.findInReactTree(e,t,r)}function Y(e,t,r){return window.enmity.utilities.findInTree(e,t,r)}var b=(e,t,r,c)=>{e.instead(t,r,(a,o,i)=>{const s=Y(m,l=>l.upper===o[0],{walkable:Object.keys(m)});return s?s[c]:i.apply(a,o)})};const v=u("getSettingTitle","getSettingTitles");var H=e=>{b(e,v,"getSettingTitle","title"),e.after(v,"getSettingTitles",(t,r,c)=>{const a=Object.keys(m).map(o=>({[m[o].upper]:m[o].title})).reduce((o,i)=>({...o,...i}),{});return{...c,...a}})};const U=u("useSettingAncestorMetadata"),V=u("SETTING_RENDERER_CONFIGS"),I=u("isYouTabEnabled");var $=e=>{b(e,U,"useSettingAncestorMetadata","ancestor"),I&&e.instead(I,"isYouTabEnabled",()=>!0),Object.assign(V.SETTING_RELATIONSHIPS,Object.keys(f).map(t=>({[m[t].upper]:m[t].relationship})).reduce((t,r)=>({...t,...r}),{}))};const z=y("SettingsOverviewScreen",{default:!1});var W=e=>{e.after(z,"default",(t,r,c)=>{var a;const{props:{sections:o}}=(a=j(c,s=>{var l;return((l=s==null?void 0:s.type)==null?void 0:l.name)==="SettingScreenLayout"}))!=null?a:{props:{sections:[]}},i=o.findIndex(s=>s==null?void 0:s.settings.find(l=>l==="ACCOUNT"));!o.find(s=>s.title===m.general.route)&&(o==null||o.splice(i===-1?1:i+1,0,{title:m.general.route,settings:[m.general.upper,m.plugins.upper,m.themes.upper]}))})};const w=R(E.name),C=u("_currentDispatchActionType"),K=(...e)=>e.forEach(t=>u(t)[t]={...u(t)[t]}),q={...E,onStart(){if(K("SETTING_RENDERER_CONFIGS","SETTING_RELATIONSHIPS"),H(w),$(w),W(w),T.getCurrentUser())N();else{let e=function(){C.unsubscribe("CONNECTION_OPEN",e),N()};C.subscribe("CONNECTION_OPEN",e)}},onStop(){w.unpatchAll()}};F(q);
