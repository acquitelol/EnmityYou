function I(e){window.enmity.plugins.registerPlugin(e)}function w(...e){return window.enmity.modules.getByProps(...e)}function y(...e){return window.enmity.modules.getByName(...e)}window.enmity.modules.common;function R(e){return window.enmity.patcher.create(e)}var F="EnmityYou",O="1.2.2",P="Allows you to use Enmity inside of the new You Tab. Enable from DevTools Widget \u279D Design Toggles :3",_=[{name:"Rosie<3",id:"581573474296791211"}],L="#ff91ff",h={name:F,version:O,description:P,authors:_,color:L};function S(e){return window.enmity.assets.getIDByName(e)}window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const d=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components;const G=window.enmity.modules.common.Locale;window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;const{components:n}=window.enmity;n.Alert,n.Button,n.FlatList,n.Image,n.ImageBackground,n.KeyboardAvoidingView,n.Modal,n.Pressable,n.RefreshControl,n.ScrollView,n.SectionList,n.StatusBar,n.StyleSheet,n.Switch,n.Text,n.TextInput,n.TouchableHighlight,n.TouchableOpacity,n.TouchableWithoutFeedback,n.Touchable;const f=n.View;n.VirtualizedList,n.Form,n.FormArrow,n.FormCTA,n.FormCTAButton,n.FormCardSection,n.FormCheckbox,n.FormDivider,n.FormHint,n.FormIcon,n.FormInput,n.FormLabel,n.FormRadio,n.FormRow,n.FormSection,n.FormSelect,n.FormSubLabel,n.FormSwitch,n.FormTernaryCheckBox,n.FormText,n.FormTextColors,n.FormTextSizes;const g={general:"ENMITY",plugins:"ENMITY_PLUGINS",themes:"ENMITY_THEMES",page:"ENMITY_PAGE"},l={general:"Enmity",plugins:"EnmityPlugins",themes:"EnmityThemes",page:"EnmityCustomPage"},A={general:"General",plugins:"Plugins",themes:"Themes",page:"Page"},D={general:{uri:"https://files.enmity.app/icon-64.png"},plugins:S("ic_activity_24px"),themes:S("img_nitro_star"),page:null},k={general:[l.general],plugins:[l.general],themes:[l.general],page:[]},E={general:null,plugins:g.general,themes:g.general,page:null},{Enmity:x,EnmityPlugins:B,EnmityThemes:j}=y("getScreens")({}),[M,H]=[B,j].map(e=>({navigation:t,route:i})=>(d.useEffect(()=>{i!=null&&i.hasSetHeaderRight||(i.hasSetHeaderRight=!0,t.setOptions({headerRight:()=>d.createElement(f,{style:{left:12}},d.createElement(e.headerRight,null))}))},[]),d.createElement(e.render,null))),T={general:{route:l.general,getComponent:()=>x.render},plugins:{route:l.plugins,getComponent:()=>M},themes:{route:l.themes,getComponent:()=>H},page:{route:l.page,getComponent:()=>({navigation:e,route:{params:t}})=>{var i;const c=(i=t.pagePanel)!=null?i:f;return d.useEffect(()=>{t.pageName&&!t.hasSetTitle&&(t.hasSetTitle=!0,e.setOptions({title:t.pageName}))},[]),d.createElement(c,null)}}},m=Object.keys(l).map(e=>({[e]:{upper:g[e],route:l[e],title:A[e],icon:D[e],relationship:E[e],breadcrumbs:k[e],screen:T[e]}})).reduce((e,t)=>({...e,...t}),{});var U=({Configurations:e})=>{Object.assign(e.SETTING_RELATIONSHIPS,Object.keys(E).map(t=>({[m[t].upper]:m[t].relationship})).reduce((t,i)=>({...t,...i}),{}))},V=({Patcher:e,Configurations:t})=>{e.after(t,"getSettingTitleConfig",(i,c,o)=>{const a=Object.keys(m).map(s=>({[m[s].upper]:m[s].title})).reduce((s,r)=>({...s,...r}),{});return{...o,...a}})};function Y(e,t,i){return window.enmity.utilities.findInReactTree(e,t,i)}const $=y("SettingsOverviewScreen",{default:!1});var z=({Patcher:e})=>{e.after($,"default",(t,i,c)=>{const{sections:o}=Y(c,r=>r.sections),a=o==null?void 0:o.findIndex(r=>r.settings.find(u=>u==="ACCOUNT"));!o.find(r=>r.title===m.general.route)&&o.splice(a===-1?1:a+1,0,{title:m.general.route,settings:[m.general.upper,m.plugins.upper,m.themes.upper]});const s=o.find(r=>r.title===G.Messages.SUPPORT);s&&(s.settings=s.settings.filter(r=>r!=="UPLOAD_DEBUG_LOGS"))})},W=({Configurations:e})=>{Object.assign(e.SETTING_RENDERER_CONFIGS,Object.entries(T).map(([t,i])=>({[m[t].upper]:{type:"route",icon:m[t].icon,screen:i}})).reduce((t,i)=>({...t,...i}),{}))};const K=w("useSettingSearch"),q=w("getSettingSearchListItems");var J=({Patcher:e,Configurations:t})=>{e.after(K,"useSettingSearch",(i,c,o)=>{o.results=o.results.filter(a=>!Object.values(g).includes(a)),Object.keys(m).filter(a=>a!=="page").forEach(a=>{const{upper:s,title:r}=m[a];[g.general,r].some(u=>u.toLowerCase().includes(o.text.toLowerCase()))&&!o.results.find(u=>u===s)&&o.results.unshift(s)})}),e.after(q,"getSettingSearchListItems",(i,[c],o)=>(o=o.filter(a=>!Object.values(g).includes(a.setting)),Object.keys(m).reverse().forEach(a=>{const{upper:s,title:r,breadcrumbs:u,icon:b}=m[a];c.includes(s)&&(o.unshift({type:"setting_search_result",ancestorRendererData:t.SETTING_RENDERER_CONFIGS[s],setting:s,title:r,breadcrumbs:u,icon:b}),o.forEach((p,v,C)=>{p.index=v,p.total=C.length}))}),o))};const N=R(h.name),Q=(...e)=>e.forEach(t=>w(t)[t]={...w(t)[t]}),X={...h,onStart(){try{Q("SETTING_RENDERER_CONFIGS","SETTING_RELATIONSHIPS");const e=w("SETTING_RENDERER_CONFIGS");[U,V,z,W,J].forEach(t=>t({Patcher:N,Configurations:e}))}catch(e){console.error(e)}},onStop(){N.unpatchAll()}};I(X);
