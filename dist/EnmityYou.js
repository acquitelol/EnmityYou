function C(n){window.enmity.plugins.registerPlugin(n)}function g(...n){return window.enmity.modules.getByProps(...n)}function y(...n){return window.enmity.modules.getByName(...n)}window.enmity.modules.common;function I(n){return window.enmity.patcher.create(n)}var R="EnmityYou",F="1.2.2",O="Allows you to use Enmity inside of the new You Tab. Enable from DevTools Widget \u279D Design Toggles :3",P=[{name:"Rosie<3",id:"581573474296791211"}],_="#ff91ff",h={name:R,version:F,description:O,authors:P,color:_};function S(n){return window.enmity.assets.getIDByName(n)}window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const d=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components;const L=window.enmity.modules.common.Locale;window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl,e.ScrollView,e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable;const f=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio,e.FormRow,e.FormSection,e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;const w={general:"ENMITY",plugins:"ENMITY_PLUGINS",themes:"ENMITY_THEMES",page:"ENMITY_PAGE"},c={general:"Enmity",plugins:"EnmityPlugins",themes:"EnmityThemes",page:"EnmityCustomPage"},G={general:"General",plugins:"Plugins",themes:"Themes",page:"Page"},A={general:{uri:"https://files.enmity.app/icon-64.png"},plugins:S("ic_activity_24px"),themes:S("img_nitro_star"),page:null},D={general:[c.general],plugins:[c.general],themes:[c.general],page:[]},E={general:null,plugins:w.general,themes:w.general,page:null},k=()=>{const{Enmity:n,EnmityPlugins:t,EnmityThemes:a}=y("getScreens")({}),[u,m]=[t,a].map(s=>({navigation:o,route:i})=>(d.useEffect(()=>{i!=null&&i.hasSetHeaderRight||(i.hasSetHeaderRight=!0,o.setOptions({headerRight:()=>d.createElement(f,{style:{left:12}},d.createElement(s.headerRight,null))}))},[]),d.createElement(s.render,null)));return{general:{route:c.general,getComponent:()=>n.render},plugins:{route:c.plugins,getComponent:()=>u},themes:{route:c.themes,getComponent:()=>m},page:{route:c.page,getComponent:()=>({navigation:s,route:{params:o}})=>{var i;const l=(i=o.pagePanel)!=null?i:f;return d.useEffect(()=>{o.pageName&&!o.hasSetTitle&&(o.hasSetTitle=!0,s.setOptions({title:o.pageName}))},[]),d.createElement(l,null)}}}},r=Object.keys(c).map(n=>({[n]:{upper:w[n],route:c[n],title:G[n],icon:A[n],relationship:E[n],breadcrumbs:D[n]}})).reduce((n,t)=>({...n,...t}),{});var x=({Configurations:n})=>{Object.assign(n.SETTING_RELATIONSHIPS,Object.keys(E).map(t=>({[r[t].upper]:r[t].relationship})).reduce((t,a)=>({...t,...a}),{}))},B=({Patcher:n,Configurations:t})=>{n.after(t,"getSettingTitleConfig",(a,u,m)=>{const s=Object.keys(r).map(o=>({[r[o].upper]:r[o].title})).reduce((o,i)=>({...o,...i}),{});return{...m,...s}})};function j(n,t,a){return window.enmity.utilities.findInReactTree(n,t,a)}const M=y("SettingsOverviewScreen",{default:!1});var H=({Patcher:n})=>{n.after(M,"default",(t,a,u)=>{const{sections:m}=j(u,i=>i.sections),s=m==null?void 0:m.findIndex(i=>i.settings.find(l=>l==="ACCOUNT"));!m.find(i=>i.title===r.general.route)&&m.splice(s===-1?1:s+1,0,{title:r.general.route,settings:[r.general.upper,r.plugins.upper,r.themes.upper]});const o=m.find(i=>i.title===L.Messages.SUPPORT);o&&(o.settings=o.settings.filter(i=>i!=="UPLOAD_DEBUG_LOGS"))})},U=({Configurations:n})=>{Object.assign(n.SETTING_RENDERER_CONFIGS,Object.entries(k()).map(([t,a])=>({[r[t].upper]:{type:"route",icon:r[t].icon,screen:a}})).reduce((t,a)=>({...t,...a}),{}))};const V=g("useSettingSearch"),Y=g("getSettingSearchListItems");var z=({Patcher:n,Configurations:t})=>{n.after(V,"useSettingSearch",(a,u,m)=>{m.results=m.results.filter(s=>!Object.values(w).includes(s)),Object.keys(r).filter(s=>s!=="page").forEach(s=>{const{upper:o,title:i}=r[s];[r.general.upper,i].some(l=>l.toLowerCase().includes(m.text.toLowerCase()))&&!m.results.find(l=>l===o)&&m.results.unshift(o)})}),n.after(Y,"getSettingSearchListItems",(a,[u],m)=>(m=m.filter(s=>!Object.values(w).includes(s.setting)),Object.keys(r).reverse().forEach(s=>{const{upper:o,title:i,breadcrumbs:l,icon:N}=r[s];u.includes(o)&&(m.unshift({type:"setting_search_result",ancestorRendererData:t.SETTING_RENDERER_CONFIGS[o],setting:o,title:i,breadcrumbs:l,icon:N}),m.forEach((p,b,v)=>{p.index=b,p.total=v.length}))}),m))};const T=I(h.name),W=(...n)=>n.forEach(t=>g(t)[t]={...g(t)[t]}),K={...h,onStart(){try{W("SETTING_RENDERER_CONFIGS","SETTING_RELATIONSHIPS");const n=g("SETTING_RENDERER_CONFIGS");[x,B,H,U,z].forEach(t=>t({Patcher:T,Configurations:n}))}catch(n){console.error(n)}},onStop(){T.unpatchAll()}};C(K);
