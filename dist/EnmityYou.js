function R(e){window.enmity.plugins.registerPlugin(e)}function N(e){return window.enmity.patcher.create(e)}var P="EnmityYou",M="1.1.1",k="Allows you to use Enmity inside of the new You Tab. Enable from DevTools Widget \u279D Design Toggles :3",A=[{name:"Rosie<3",id:"581573474296791211"}],L="#ff91ff",v={name:P,version:M,description:k,authors:A,color:L};const B=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const s=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings;const O=window.enmity.modules.common.Users;window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const _=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components;const x=window.enmity.modules.common.Locale;window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function w(...e){return window.enmity.modules.getByProps(...e)}function h(...e){return window.enmity.modules.getByName(...e)}window.enmity.modules.common;const{components:t}=window.enmity;t.Alert,t.Button,t.FlatList,t.Image,t.ImageBackground,t.KeyboardAvoidingView,t.Modal,t.Pressable,t.RefreshControl,t.ScrollView,t.SectionList,t.StatusBar,t.StyleSheet,t.Switch,t.Text,t.TextInput,t.TouchableHighlight,t.TouchableOpacity,t.TouchableWithoutFeedback,t.Touchable;const T=t.View;t.VirtualizedList,t.Form,t.FormArrow,t.FormCTA,t.FormCTAButton,t.FormCardSection,t.FormCheckbox;const b=t.FormDivider;t.FormHint,t.FormIcon,t.FormInput,t.FormLabel,t.FormRadio,t.FormRow;const D=t.FormSection;t.FormSelect,t.FormSubLabel,t.FormSwitch,t.FormTernaryCheckBox,t.FormText,t.FormTextColors,t.FormTextSizes;function C(e){return window.enmity.assets.getIDByName(e)}const j={general:"ENMITY",plugins:"ENMITY_PLUGINS",themes:"ENMITY_THEMES",page:"ENMITY_PAGE"},E={general:"Enmity",plugins:"EnmityPlugins",themes:"EnmityThemes",page:"EnmityCustomPage"},G={general:"General",plugins:"Plugins",themes:"Themes",page:"Page"},Y={general:{uri:"https://files.enmity.app/icon-64.png"},plugins:C("ic_activity_24px"),themes:C("img_nitro_star"),page:null},U={general:["Enmity"],plugins:["Enmity"],themes:["Enmity"],page:[]},V=Object.entries(E).map(([e,n])=>({[e]:{breadcrumbs:U[e],route:n}})).reduce((e,n)=>({...e,...n}),{}),H=Object.entries(E).map(([e,n])=>({[e]:{route:n,getComponent:()=>{}}})).reduce((e,n)=>({...e,...n}),{}),o=Object.entries(E).map(([e,n])=>({[e]:{upper:j[e],route:n,title:G[e],icon:Y[e],ancestor:V[e],screen:H[e]}})).reduce((e,n)=>({...e,...n}),{});function $(e,n,a){return window.enmity.utilities.findInReactTree(e,n,a)}function z(e,n,a){return window.enmity.utilities.findInTree(e,n,a)}var S=(e,n,a,u)=>{e.instead(n,a,(r,m,l)=>{const c=z(o,p=>p.upper===m[0],{walkable:Object.keys(o)});return c?c[u]:l.apply(r,m)})};const F=w("useSettingScreen","useSettingScreens"),K=h("getScreens");var W=e=>{S(e,F,"useSettingScreen","screen"),e.after(F,"useSettingScreens",(n,a,u)=>{const{Enmity:r,EnmityPlugins:m,EnmityThemes:l}=K(O.getCurrentUser()),[c,p]=[m,l].map(d=>({navigation:i,route:g})=>(s.useEffect(()=>{g!=null&&g.hasSetHeaderRight||(g.hasSetHeaderRight=!0,i.setOptions({headerRight:()=>s.createElement(T,{style:{left:12}},s.createElement(d.headerRight,null))}))},[]),s.createElement(d.render,null)));return{...u,[o.general.upper]:{route:o.general.route,getComponent:()=>r.render},[o.plugins.upper]:{route:o.plugins.route,getComponent:()=>c},[o.themes.upper]:{route:o.themes.route,getComponent:()=>p},[o.page.upper]:{route:o.page.route,getComponent:()=>({navigation:d,route:{params:i}})=>{var g;const I=(g=i.pagePanel)!=null?g:T;return s.useEffect(()=>{i.pageName&&!i.hasSetTitle&&(i.hasSetTitle=!0,d.setOptions({title:i.pageName}))},[]),s.createElement(I,null)}}}})};const f=w("useSettingTitle","useSettingTitles");var q=e=>{S(e,f,"useSettingTitle","title"),e.after(f,"useSettingTitles",(n,a,u)=>{const r=Object.keys(o).map(m=>({[o[m].upper]:o[m].title})).reduce((m,l)=>({...m,...l}),{});return{...u,...r}}),e.after(f,"useSettingTitlePairs",(n,a,u)=>{Object.keys(o).filter(r=>r.toLowerCase()!=="page").forEach(r=>u.push([o[r].upper,o[r].route]))})};const J=w("useSettingIcon"),Q=w("useSettingAncestorMetadata");w("useSettingRelationships");var X=e=>{S(e,J,"useSettingIcon","icon"),S(e,Q,"useSettingAncestorMetadata","ancestor")};const Z=h("SettingsOverviewScreen",{default:!1}),{renderSetting:ee}=w("renderSetting"),te=_.createThemedStyleSheet({round:{width:"100%",borderRadius:16,backgroundColor:B.ThemeColorMap.BACKGROUND_PRIMARY}});var ne=e=>{e.after(Z,"default",(n,a,u)=>{const{children:[r,m]}=$(u,i=>i.children[0].type===h("SettingsSearch")),l=m==null?void 0:m.findIndex(i=>i.props.title===x.Messages.PREMIUM_SETTINGS_GENERIC),[c,p,d]=Object.keys(o).filter(i=>i.toLowerCase()!=="page").map(i=>ee({type:"route",id:o[i].upper}));m==null||m.splice(l===-1?1:l,0,s.createElement(D,{key:o.general.route,title:o.general.route,inset:!0,uppercaseTitle:!1},s.createElement(T,{style:te.round},c,s.createElement(b,null),p,s.createElement(b,null),d)))})};const y=N(v.name),oe={...v,onStart(){W(y),q(y),X(y),ne(y)},onStop(){y.unpatchAll()}};R(oe);
