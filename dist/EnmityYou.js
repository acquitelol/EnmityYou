function R(e){window.enmity.plugins.registerPlugin(e)}function P(e){return window.enmity.patcher.create(e)}var M="EnmityYou",k="1.1.2",A="Allows you to use Enmity inside of the new You Tab. Enable from DevTools Widget \u279D Design Toggles :3",L=[{name:"Rosie<3",id:"581573474296791211"}],B="#ff91ff",E={name:M,version:k,description:A,authors:L,color:B};const O=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const l=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings;const _=window.enmity.modules.common.Users;window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const x=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components;const D=window.enmity.modules.common.Locale;window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function p(...e){return window.enmity.modules.getByProps(...e)}function h(...e){return window.enmity.modules.getByName(...e)}window.enmity.modules.common;const{components:t}=window.enmity;t.Alert,t.Button,t.FlatList,t.Image,t.ImageBackground,t.KeyboardAvoidingView,t.Modal,t.Pressable,t.RefreshControl,t.ScrollView,t.SectionList,t.StatusBar,t.StyleSheet,t.Switch,t.Text,t.TextInput,t.TouchableHighlight,t.TouchableOpacity,t.TouchableWithoutFeedback,t.Touchable;const b=t.View;t.VirtualizedList,t.Form,t.FormArrow,t.FormCTA,t.FormCTAButton,t.FormCardSection,t.FormCheckbox;const v=t.FormDivider;t.FormHint,t.FormIcon,t.FormInput,t.FormLabel,t.FormRadio,t.FormRow;const j=t.FormSection;t.FormSelect,t.FormSubLabel,t.FormSwitch,t.FormTernaryCheckBox,t.FormText,t.FormTextColors,t.FormTextSizes;function C(e){return window.enmity.assets.getIDByName(e)}const G={general:"ENMITY",plugins:"ENMITY_PLUGINS",themes:"ENMITY_THEMES",page:"ENMITY_PAGE"},T={general:"Enmity",plugins:"EnmityPlugins",themes:"EnmityThemes",page:"EnmityCustomPage"},V={general:"General",plugins:"Plugins",themes:"Themes",page:"Page"},Y={general:{uri:"https://files.enmity.app/icon-64.png"},plugins:C("ic_activity_24px"),themes:C("img_nitro_star"),page:null},U={general:["Enmity"],plugins:["Enmity"],themes:["Enmity"],page:[]},H=Object.entries(T).map(([e,o])=>({[e]:{breadcrumbs:U[e],route:o}})).reduce((e,o)=>({...e,...o}),{}),$=Object.entries(T).map(([e,o])=>({[e]:{route:o,getComponent:()=>{}}})).reduce((e,o)=>({...e,...o}),{}),n=Object.entries(T).map(([e,o])=>({[e]:{upper:G[e],route:o,title:V[e],icon:Y[e],ancestor:H[e],screen:$[e]}})).reduce((e,o)=>({...e,...o}),{});function z(e,o,a){return window.enmity.utilities.findInReactTree(e,o,a)}function K(e,o,a){return window.enmity.utilities.findInTree(e,o,a)}var S=(e,o,a,r)=>{e.instead(o,a,(s,m,c)=>{const u=K(n,w=>w.upper===m[0],{walkable:Object.keys(n)});return console.log({data:n,predicate:u,type:r}),u?u[r]:c.apply(s,m)})};const F=p("useSettingScreen","useSettingScreens"),W=h("getScreens");var q=e=>{S(e,F,"useSettingScreen","screen"),e.after(F,"useSettingScreens",(o,a,r)=>{const{Enmity:s,EnmityPlugins:m,EnmityThemes:c}=W(_.getCurrentUser()),[u,w]=[m,c].map(d=>({navigation:i,route:g})=>(l.useEffect(()=>{g!=null&&g.hasSetHeaderRight||(g.hasSetHeaderRight=!0,i.setOptions({headerRight:()=>l.createElement(b,{style:{left:12}},l.createElement(d.headerRight,null))}))},[]),l.createElement(d.render,null)));return{...r,[n.general.upper]:{route:n.general.route,getComponent:()=>s.render},[n.plugins.upper]:{route:n.plugins.route,getComponent:()=>u},[n.themes.upper]:{route:n.themes.route,getComponent:()=>w},[n.page.upper]:{route:n.page.route,getComponent:()=>({navigation:d,route:{params:i}})=>{var g;const N=(g=i.pagePanel)!=null?g:b;return l.useEffect(()=>{i.pageName&&!i.hasSetTitle&&(i.hasSetTitle=!0,d.setOptions({title:i.pageName}))},[]),l.createElement(N,null)}}}})};const f=p("useSettingTitle","useSettingTitles");var J=e=>{S(e,f,"useSettingTitle","title"),e.after(f,"useSettingTitles",(o,a,r)=>{const s=Object.keys(n).map(m=>({[n[m].upper]:n[m].title})).reduce((m,c)=>({...m,...c}),{});return{...r,...s}}),e.after(f,"useSettingTitlePairs",(o,a,r)=>{console.log({res:r,data:n}),Object.keys(n).filter(s=>s.toLowerCase()!=="page").forEach(s=>r.push([n[s].upper,n[s].route]))})};const Q=p("useSettingIcon"),X=p("useSettingAncestorMetadata");var Z=e=>{S(e,Q,"useSettingIcon","icon"),S(e,X,"useSettingAncestorMetadata","ancestor")};const ee=h("SettingsOverviewScreen",{default:!1}),{renderSetting:te}=p("renderSetting"),I=x.createThemedStyleSheet({section:{backgroundColor:O.ThemeColorMap.BACKGROUND_PRIMARY,borderRadius:16,overflow:"hidden"},title:{paddingTop:24}});var ne=e=>{e.after(ee,"default",(o,a,r)=>{const{children:[s,m]}=z(r,i=>i.children[0].type===h("SettingsSearch")),c=m==null?void 0:m.findIndex(i=>i.props.title===D.Messages.PREMIUM_SETTINGS_GENERIC),[u,w,d]=Object.keys(n).filter(i=>i.toLowerCase()!=="page").map(i=>te({type:"route",id:n[i].upper}));m==null||m.splice(Math.abs(c),0,l.createElement(j,{key:n.general.route,accessibilityLabel:n.general.route,title:n.general.route,sectionBodyStyle:I.section,titleStyleType:"no_border",titleViewStyle:I.title,uppercaseTitle:!1,inset:!0},u,l.createElement(v,null),w,l.createElement(v,null),d))})};const y=P(E.name),oe={...E,onStart(){J(y),q(y),Z(y),ne(y)},onStop(){y.unpatchAll()}};R(oe);
