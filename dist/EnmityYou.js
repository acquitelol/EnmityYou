function C(n){window.enmity.plugins.registerPlugin(n)}function w(...n){return window.enmity.modules.getByProps(...n)}function y(...n){return window.enmity.modules.getByName(...n)}window.enmity.modules.common;function F(n){return window.enmity.patcher.create(n)}var R="EnmityYou",O="1.2.3",P="Allows you to use Enmity inside of the new You Tab. Enable from DevTools Widget \u279D Design Toggles :3",_=[{name:"Rosie<3",id:"581573474296791211"}],L="#ff91ff",h={name:R,version:O,description:P,authors:_,color:L};function S(n){return window.enmity.assets.getIDByName(n)}window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const d=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components;const G=window.enmity.modules.common.Locale;window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl,e.ScrollView,e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable;const f=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio,e.FormRow,e.FormSection,e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;const g={general:"ENMITY",plugins:"ENMITY_PLUGINS",themes:"ENMITY_THEMES",page:"ENMITY_PAGE"},c={general:"Enmity",plugins:"EnmityPlugins",themes:"EnmityThemes",page:"EnmityCustomPage"},j={general:"General",plugins:"Plugins",themes:"Themes",page:"Page"},A={general:{uri:"https://files.enmity.app/icon-64.png"},plugins:S("ic_activity_24px"),themes:S("img_nitro_star"),page:null},D={general:[c.general],plugins:[c.general],themes:[c.general],page:[]},E={general:null,plugins:g.general,themes:g.general,page:null},{Enmity:k,EnmityPlugins:x,EnmityThemes:B}=y("getScreens")({}),[M,H]=[x,B].map(n=>({navigation:t,route:o})=>(d.useEffect(()=>{o!=null&&o.hasSetHeaderRight||(o.hasSetHeaderRight=!0,t.setOptions({headerRight:()=>d.createElement(f,{style:{left:12}},d.createElement(n.headerRight,null))}))},[]),d.createElement(n.render,null))),T={general:{route:c.general,getComponent:()=>k.render},plugins:{route:c.plugins,getComponent:()=>M},themes:{route:c.themes,getComponent:()=>H},page:{route:c.page,getComponent:()=>({navigation:n,route:{params:t}})=>{var o;const m=(o=t.pagePanel)!=null?o:f;return d.useEffect(()=>{t.pageName&&!t.hasSetTitle&&(t.hasSetTitle=!0,n.setOptions({title:t.pageName}))},[]),d.createElement(m,null)}}},s=Object.keys(c).map(n=>({[n]:{upper:g[n],route:c[n],title:j[n],icon:A[n],relationship:E[n],breadcrumbs:D[n],screen:T[n]}})).reduce((n,t)=>({...n,...t}),{});var U=({Configurations:n})=>{Object.assign(n.SETTING_RENDERER_CONFIGS,Object.entries(T).map(([t,o])=>({[s[t].upper]:{type:"route",icon:s[t].icon,screen:o}})).reduce((t,o)=>({...t,...o}),{})),Object.assign(n.SETTING_RELATIONSHIPS,Object.keys(E).map(t=>({[s[t].upper]:s[t].relationship})).reduce((t,o)=>({...t,...o}),{}))},V=({Patcher:n,Configurations:t})=>{n.after(t,"getSettingTitleConfig",(o,m,i)=>{const l=Object.keys(s).map(r=>({[s[r].upper]:s[r].title})).reduce((r,a)=>({...r,...a}),{});return{...i,...l}})};function Y(n,t,o){return window.enmity.utilities.findInReactTree(n,t,o)}const $=y("SettingsOverviewScreen",{default:!1});var z=({Patcher:n})=>{n.after($,"default",(t,o,m)=>{const{sections:i}=Y(m,a=>a.sections),l=i==null?void 0:i.findIndex(a=>a.settings.find(u=>u==="ACCOUNT"));!i.find(a=>a.title===s.general.route)&&i.splice(l===-1?1:l+1,0,{title:s.general.route,settings:[s.general.upper,s.plugins.upper,s.themes.upper]});const r=i.find(a=>a.title===G.Messages.SUPPORT);r&&(r.settings=r.settings.filter(a=>a!=="UPLOAD_DEBUG_LOGS"))})};const W=w("useSettingSearch"),K=w("getSettingSearchListItems");var q=({Patcher:n,Configurations:t})=>{n.after(W,"useSettingSearch",(o,m,i)=>{i.results=i.results.filter(l=>!Object.values(g).includes(l)),Object.keys(s).filter(l=>l!=="page").forEach(l=>{const{upper:r,title:a}=s[l];[g.general,a].some(u=>u.toLowerCase().includes(i.text.toLowerCase()))&&!i.results.find(u=>u===r)&&i.results.unshift(r)})}),n.after(K,"getSettingSearchListItems",(o,[m],i)=>(i=i.filter(l=>!Object.values(g).includes(l.setting)),Object.keys(s).reverse().forEach(l=>{const{upper:r,title:a,breadcrumbs:u,icon:N}=s[l];m.includes(r)&&(i.unshift({type:"setting_search_result",ancestorRendererData:t.SETTING_RENDERER_CONFIGS[r],setting:r,title:a,breadcrumbs:u,icon:N}),i.forEach((p,v,I)=>{p.index=v,p.total=I.length}))}),i))};const b=F(h.name),J=(...n)=>n.forEach(t=>{const o=w(...t);Object.keys(o).forEach(m=>typeof o[m]=="object"&&Object.isFrozen(o[m])&&(o[m]={...o[m]}))}),Q={...h,onStart(){J(["SETTING_RENDERER_CONFIGS","SETTING_RELATIONSHIPS"]);const n=w("SETTING_RENDERER_CONFIGS");Object.entries({constants:U,titles:V,render:z,search:q}).forEach(([t,o])=>{var m;try{o({Patcher:b,Configurations:n})}catch(i){console.error(`Error when patching ${t}: ${(m=i.message)!=null?m:i}`)}})},onStop(){b.unpatchAll()}};C(Q);
