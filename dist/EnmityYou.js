function v(n){window.enmity.plugins.registerPlugin(n)}function g(...n){return window.enmity.modules.getByProps(...n)}function F(...n){return window.enmity.modules.getByName(...n)}window.enmity.modules.common;function C(n){return window.enmity.patcher.create(n)}var N="EnmityYou",R="1.2.6",I="Allows you to use Enmity inside of the new You Tab. Enable from DevTools Widget \u279D Design Toggles :3",O=[{name:"Rosie<3",id:"581573474296791211"}],P="#ff91ff",p={name:N,version:R,description:I,authors:O,color:P};function h(n){return window.enmity.assets.getIDByName(n)}window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const c=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components;const L=window.enmity.modules.common.Locale;window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl,e.ScrollView,e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable;const S=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio,e.FormRow,e.FormSection,e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;const w={general:"ENMITY",plugins:"ENMITY_PLUGINS",themes:"ENMITY_THEMES",page:"ENMITY_PAGE"},l={general:"Enmity",plugins:"EnmityPlugins",themes:"EnmityThemes",page:"EnmityCustomPage"},_={general:"General",plugins:"Plugins",themes:"Themes",page:"Page"},D={general:{uri:"https://files.enmity.app/icon-64.png"},plugins:h("ic_activity_24px"),themes:h("img_nitro_star"),page:null},A={general:[l.general],plugins:[l.general],themes:[l.general],page:[]},{Enmity:B,EnmityPlugins:G,EnmityThemes:k}=F("getScreens")({}),[x,j]=[G,k].map(n=>({navigation:o,route:t})=>(c.useEffect(()=>{t!=null&&t.hasSetHeaderRight||(t.hasSetHeaderRight=!0,o.setOptions({headerRight:()=>c.createElement(S,{style:{left:12}},c.createElement(n.headerRight,null))}))},[]),c.createElement(n.render,null))),M={general:{route:l.general,getComponent:()=>B.render},plugins:{route:l.plugins,getComponent:()=>x},themes:{route:l.themes,getComponent:()=>j},page:{route:l.page,getComponent:()=>({navigation:n,route:{params:o}})=>{var t;const s=(t=o.pagePanel)!=null?t:S;return c.useEffect(()=>{o.pageName&&!o.hasSetTitle&&(o.hasSetTitle=!0,n.setOptions({title:o.pageName}))},[]),c.createElement(s,null)}}},a=Object.keys(l).map(n=>({[n]:{upper:w[n],route:l[n],title:_[n],icon:D[n],breadcrumbs:A[n],screen:M[n]}})).reduce((n,o)=>({...n,...o}),{});var U=({Configurations:n})=>{Object.assign(n.SETTING_RENDERER_CONFIG,Object.values(a).map(({upper:o,icon:t,screen:s,title:i})=>({[o]:{type:"route",title:i,parent:null,screen:s,icon:t}})).reduce((o,t)=>({...o,...t}),{}))};const{SearchableSettingsList:V}=g("SearchableSettingsList");var Y=({Patcher:n})=>{n.after(V,"type",(o,t,[{sections:s}])=>{const i=s==null?void 0:s.findIndex(m=>m.settings.find(u=>u==="ACCOUNT"));!s.find(m=>m.label===a.general.route)&&s.splice(i===-1?1:i+1,0,{label:a.general.route,settings:[a.general.upper,a.plugins.upper,a.themes.upper]});const r=s.find(m=>m.label===L.Messages.SUPPORT);r&&(r.settings=r.settings.filter(m=>m!=="UPLOAD_DEBUG_LOGS"))})};const $=g("useSettingSearchResults"),H=g("getSettingListSearchResultItems"),z=g("getSettingSearchQuery");var Q=({Patcher:n,Configurations:o})=>{n.after($,"useSettingSearchResults",(t,s,i)=>(i=i.filter(r=>!Object.values(w).includes(r)),Object.keys(a).filter(r=>r!=="page").forEach(r=>{const{upper:m,title:u}=a[r];[w.general,u].some(d=>d.toLowerCase().includes(z.getSettingSearchQuery().toLowerCase()))&&!i.find(d=>d===m)&&i.unshift(m)}),i)),n.after(H,"getSettingListSearchResultItems",(t,[s],i)=>(i=i.filter(r=>!Object.values(w).includes(r.setting)),Object.keys(a).reverse().forEach(r=>{const{upper:m,title:u,breadcrumbs:d,icon:E}=a[r];s.includes(m)&&(i.unshift({type:"setting_search_result",ancestorSettingData:o.SETTING_RENDERER_CONFIG[m],setting:m,title:u,breadcrumbs:d,icon:E}),i.forEach((y,b,T)=>{y.index=b,y.total=T.length}))}),i))};const f=C(p.name),W=(...n)=>{const o=g(...n);return Object.keys(o).forEach(t=>n.includes(t)&&Object.isFrozen(o[t])&&(o[t]={...o[t]})),o},K={...p,onStart(){const n=W("SETTING_RENDERER_CONFIG");Object.entries({constants:U,sections:Y,search:Q}).forEach(([o,t])=>{var s;try{t({Patcher:f,Configurations:n})}catch(i){console.error(`Error when patching ${o}: ${(s=i.message)!=null?s:i}`)}})},onStop(){f.unpatchAll()}};v(K);
