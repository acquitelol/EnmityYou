function F(t){window.enmity.plugins.registerPlugin(t)}function g(...t){return window.enmity.modules.getByProps(...t)}function p(...t){return window.enmity.modules.getByName(...t)}window.enmity.modules.common;function N(t){return window.enmity.patcher.create(t)}var C="EnmityYou",R="1.2.5",I="Allows you to use Enmity inside of the new You Tab. Enable from DevTools Widget \u279D Design Toggles :3",O=[{name:"Rosie<3",id:"581573474296791211"}],P="#ff91ff",h={name:C,version:R,description:I,authors:O,color:P};function S(t){return window.enmity.assets.getIDByName(t)}window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const c=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components;const L=window.enmity.modules.common.Locale;window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl,e.ScrollView,e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable;const E=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio,e.FormRow,e.FormSection,e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;const w={general:"ENMITY",plugins:"ENMITY_PLUGINS",themes:"ENMITY_THEMES",page:"ENMITY_PAGE"},l={general:"Enmity",plugins:"EnmityPlugins",themes:"EnmityThemes",page:"EnmityCustomPage"},_={general:"General",plugins:"Plugins",themes:"Themes",page:"Page"},A={general:{uri:"https://files.enmity.app/icon-64.png"},plugins:S("ic_activity_24px"),themes:S("img_nitro_star"),page:null},D={general:[l.general],plugins:[l.general],themes:[l.general],page:[]},{Enmity:G,EnmityPlugins:B,EnmityThemes:k}=p("getScreens")({}),[x,j]=[B,k].map(t=>({navigation:n,route:o})=>(c.useEffect(()=>{o!=null&&o.hasSetHeaderRight||(o.hasSetHeaderRight=!0,n.setOptions({headerRight:()=>c.createElement(E,{style:{left:12}},c.createElement(t.headerRight,null))}))},[]),c.createElement(t.render,null))),M={general:{route:l.general,getComponent:()=>G.render},plugins:{route:l.plugins,getComponent:()=>x},themes:{route:l.themes,getComponent:()=>j},page:{route:l.page,getComponent:()=>({navigation:t,route:{params:n}})=>{var o;const s=(o=n.pagePanel)!=null?o:E;return c.useEffect(()=>{n.pageName&&!n.hasSetTitle&&(n.hasSetTitle=!0,t.setOptions({title:n.pageName}))},[]),c.createElement(s,null)}}},a=Object.keys(l).map(t=>({[t]:{upper:w[t],route:l[t],title:_[t],icon:A[t],breadcrumbs:D[t],screen:M[t]}})).reduce((t,n)=>({...t,...n}),{});var H=({Configurations:t})=>{Object.assign(t.SETTING_RENDERER_CONFIG,Object.values(a).map(({upper:n,icon:o,screen:s,title:i})=>({[n]:{type:"route",title:i,parent:null,screen:s,icon:o}})).reduce((n,o)=>({...n,...o}),{}))};const{SearchableSettingsList:U}=p("SearchableSettingsList",{default:!1});var V=({Patcher:t})=>{t.after(U,"type",(n,o,[{sections:s}])=>{const i=s==null?void 0:s.findIndex(m=>m.settings.find(u=>u==="ACCOUNT"));!s.find(m=>m.title===a.general.route)&&s.splice(i===-1?1:i+1,0,{title:a.general.route,settings:[a.general.upper,a.plugins.upper,a.themes.upper]});const r=s.find(m=>m.title===L.Messages.SUPPORT);r&&(r.settings=r.settings.filter(m=>m!=="UPLOAD_DEBUG_LOGS"))})};const Y=g("useSettingSearchResults"),$=g("getSettingListSearchResultItems"),z=g("getSettingSearchQuery");var Q=({Patcher:t,Configurations:n})=>{t.after(Y,"useSettingSearchResults",(o,s,i)=>(i=i.filter(r=>!Object.values(w).includes(r)),Object.keys(a).filter(r=>r!=="page").forEach(r=>{const{upper:m,title:u}=a[r];[w.general,u].some(d=>d.toLowerCase().includes(z.getSettingSearchQuery().toLowerCase()))&&!i.find(d=>d===m)&&i.unshift(m)}),i)),t.after($,"getSettingListSearchResultItems",(o,[s],i)=>(i=i.filter(r=>!Object.values(w).includes(r.setting)),Object.keys(a).reverse().forEach(r=>{const{upper:m,title:u,breadcrumbs:d,icon:T}=a[r];s.includes(m)&&(i.unshift({type:"setting_search_result",ancestorSettingData:n.SETTING_RENDERER_CONFIG[m],setting:m,title:u,breadcrumbs:d,icon:T}),i.forEach((y,b,v)=>{y.index=b,y.total=v.length}))}),i))};const f=N(h.name),W=(...t)=>{const n=g(...t);return Object.keys(n).forEach(o=>t.includes(o)&&Object.isFrozen(n[o])&&(n[o]={...n[o]})),n},K={...h,onStart(){const t=W("SETTING_RENDERER_CONFIGS","SETTING_RELATIONSHIPS");Object.entries({constants:H,sections:V,search:Q}).forEach(([n,o])=>{var s;try{o({Patcher:f,Configurations:t})}catch(i){console.error(`Error when patching ${n}: ${(s=i.message)!=null?s:i}`)}})},onStop(){f.unpatchAll()}};F(K);
