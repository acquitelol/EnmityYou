function b(n){window.enmity.plugins.registerPlugin(n)}function u(...n){return window.enmity.modules.getByProps(...n)}function S(...n){return window.enmity.modules.getByName(...n)}window.enmity.modules.common;function v(n){return window.enmity.patcher.create(n)}var F="EnmityYou",C="1.2.0",O="Allows you to use Enmity inside of the new You Tab. Enable from DevTools Widget \u279D Design Toggles :3",_=[{name:"Rosie<3",id:"581573474296791211"}],G="#ff91ff",E={name:F,version:C,description:O,authors:_,color:G};window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const d=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components;const L=window.enmity.modules.common.Locale;window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl,e.ScrollView,e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable;const T=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio,e.FormRow,e.FormSection,e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;function f(n){return window.enmity.assets.getIDByName(n)}const w={general:"ENMITY",plugins:"ENMITY_PLUGINS",themes:"ENMITY_THEMES",page:"ENMITY_PAGE"},c={general:"Enmity",plugins:"EnmityPlugins",themes:"EnmityThemes",page:"EnmityCustomPage"},p={general:"General",plugins:"Plugins",themes:"Themes",page:"Page"},P={general:{uri:"https://files.enmity.app/icon-64.png"},plugins:f("ic_activity_24px"),themes:f("img_nitro_star"),page:null},D={general:[c.general],plugins:[c.general],themes:[c.general],page:[]},N={general:null,plugins:w.general,themes:w.general,page:null},k={general:[c.general,p.general],plugins:[c.general,p.plugins],themes:[c.general,p.themes],page:[]},r=Object.keys(c).map(n=>({[n]:{upper:w[n],route:c[n],title:p[n],icon:P[n],relationship:N[n],breadcrumbs:D[n],keywords:k[n]}})).reduce((n,l)=>({...n,...l}),{}),A=S("getScreens"),x=u("SETTING_RENDERER_CONFIGS");var B=()=>{const{Enmity:n,EnmityPlugins:l,EnmityThemes:a}=A({}),[o,i]=[l,a].map(t=>({navigation:s,route:m})=>(d.useEffect(()=>{m!=null&&m.hasSetHeaderRight||(m.hasSetHeaderRight=!0,s.setOptions({headerRight:()=>t.headerRight?d.createElement(T,{style:{left:12}},d.createElement(t.headerRight,null)):null}))},[]),d.createElement(t.render,null)));Object.assign(x.SETTING_RENDERER_CONFIGS,Object.entries({general:{route:r.general.route,getComponent:()=>n.render},plugins:{route:r.plugins.route,getComponent:()=>o},themes:{route:r.themes.route,getComponent:()=>i},page:{route:r.page.route,getComponent:()=>({navigation:t,route:{params:s}})=>{var m;const g=(m=s.pagePanel)!=null?m:T;return d.useEffect(()=>{s.pageName&&!s.hasSetTitle&&(s.hasSetTitle=!0,t.setOptions({title:s.pageName}))},[]),d.createElement(g,null)}}}).map(([t,s])=>({[r[t].upper]:{type:"route",icon:r[t].icon,screen:s}})).reduce((t,s)=>({...t,...s}),{}))};const j=u("getSettingTitleConfig");var M=n=>{n.after(j,"getSettingTitleConfig",(l,a,o)=>{const i=Object.keys(r).map(t=>({[r[t].upper]:r[t].title})).reduce((t,s)=>({...t,...s}),{});return{...o,...i}})};const H=u("SETTING_RENDERER_CONFIGS");var U=()=>{Object.assign(H.SETTING_RELATIONSHIPS,Object.keys(N).map(n=>({[r[n].upper]:r[n].relationship})).reduce((n,l)=>({...n,...l}),{}))};function V(n,l,a){return window.enmity.utilities.findInReactTree(n,l,a)}const Y=S("SettingsOverviewScreen",{default:!1});var z=n=>{n.after(Y,"default",(l,a,o)=>{const{sections:i}=V(o,m=>m.sections),t=i.findIndex(m=>m==null?void 0:m.settings.find(g=>g==="ACCOUNT"));!i.find(m=>m.title===r.general.route)&&(i==null||i.splice(t===-1?1:t+1,0,{title:r.general.route,settings:[r.general.upper,r.plugins.upper,r.themes.upper]}));const s=i.findIndex(m=>m.title===L.Messages.SUPPORT);i[s].settings=i[s].settings.filter(m=>m!=="UPLOAD_DEBUG_LOGS")})};const $=u("useSettingSearch"),W=u("getSettingSearchListItems"),K=u("SETTING_RENDERER_CONFIGS");var q=n=>{n.after($,"useSettingSearch",(l,a,o)=>{o.results=o.results.filter(i=>!Object.values(w).includes(i)),Object.keys(r).filter(i=>i!=="page").forEach(i=>{const{keywords:t,upper:s}=r[i];t.length>0&&t.some(m=>m.toLowerCase().includes(o.text.toLowerCase()))&&!o.results.find(m=>m===s)&&o.results.unshift(s)})}),n.after(W,"getSettingSearchListItems",(l,[a],o)=>(o=o.filter(i=>!Object.values(w).includes(i.setting)),Object.keys(r).filter(i=>i!=="page").reverse().forEach(i=>{const{upper:t,title:s,breadcrumbs:m,icon:g}=r[i];a.includes(t)&&(o.unshift({type:"setting_search_result",ancestorRendererData:K.SETTING_RENDERER_CONFIGS[t],setting:t,title:s,breadcrumbs:m,icon:g}),o.map((h,I,R)=>(h.index=I,h.total=R.length,h)))}),o))};const y=v(E.name),J=(...n)=>{const l=(a,o)=>u(a)[a]=o(u(a)[a]);return n.forEach(a=>l(a,o=>({...o}))),()=>n.forEach(a=>l(a,o=>Object.freeze(o)))},Q={...E,onStart(){const n=J("SETTING_RENDERER_CONFIGS","SETTING_RELATIONSHIPS");M(y),z(y),q(y),B(),U(),n()},onStop(){y.unpatchAll()}};b(Q);
