function N(e){window.enmity.plugins.registerPlugin(e)}function P(e){return window.enmity.patcher.create(e)}var M="EnmityYou",k="1.1.2",A="Allows you to use Enmity inside of the new You Tab. Enable from DevTools Widget \u279D Design Toggles :3",L=[{name:"Rosie<3",id:"581573474296791211"}],B="#ff91ff",E={name:M,version:k,description:A,authors:L,color:B};const O=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const l=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings;const _=window.enmity.modules.common.Users;window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const x=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components;const D=window.enmity.modules.common.Locale;window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function p(...e){return window.enmity.modules.getByProps(...e)}function h(...e){return window.enmity.modules.getByName(...e)}window.enmity.modules.common;const{components:t}=window.enmity;t.Alert,t.Button,t.FlatList,t.Image,t.ImageBackground,t.KeyboardAvoidingView,t.Modal,t.Pressable,t.RefreshControl,t.ScrollView,t.SectionList,t.StatusBar,t.StyleSheet,t.Switch,t.Text,t.TextInput,t.TouchableHighlight,t.TouchableOpacity,t.TouchableWithoutFeedback,t.Touchable;const b=t.View;t.VirtualizedList,t.Form,t.FormArrow,t.FormCTA,t.FormCTAButton,t.FormCardSection,t.FormCheckbox;const v=t.FormDivider;t.FormHint,t.FormIcon,t.FormInput,t.FormLabel,t.FormRadio,t.FormRow;const j=t.FormSection;t.FormSelect,t.FormSubLabel,t.FormSwitch,t.FormTernaryCheckBox,t.FormText,t.FormTextColors,t.FormTextSizes;function C(e){return window.enmity.assets.getIDByName(e)}const G={general:"ENMITY",plugins:"ENMITY_PLUGINS",themes:"ENMITY_THEMES",page:"ENMITY_PAGE"},T={general:"Enmity",plugins:"EnmityPlugins",themes:"EnmityThemes",page:"EnmityCustomPage"},V={general:"General",plugins:"Plugins",themes:"Themes",page:"Page"},Y={general:{uri:"https://files.enmity.app/icon-64.png"},plugins:C("ic_activity_24px"),themes:C("img_nitro_star"),page:null},U={general:["Enmity"],plugins:["Enmity"],themes:["Enmity"],page:[]},H=Object.entries(T).map(([e,n])=>({[e]:{breadcrumbs:U[e],route:n}})).reduce((e,n)=>({...e,...n}),{}),$=Object.entries(T).map(([e,n])=>({[e]:{route:n,getComponent:()=>{}}})).reduce((e,n)=>({...e,...n}),{}),o=Object.entries(T).map(([e,n])=>({[e]:{upper:G[e],route:n,title:V[e],icon:Y[e],ancestor:H[e],screen:$[e]}})).reduce((e,n)=>({...e,...n}),{});function z(e,n,s){return window.enmity.utilities.findInReactTree(e,n,s)}function K(e,n,s){return window.enmity.utilities.findInTree(e,n,s)}var S=(e,n,s,a)=>{e.instead(n,s,(r,m,u)=>{const d=K(o,w=>w.upper===m[0],{walkable:Object.keys(o)});return d?d[a]:u.apply(r,m)})};const F=p("useSettingScreen","useSettingScreens"),W=h("getScreens");var q=e=>{S(e,F,"useSettingScreen","screen"),e.after(F,"useSettingScreens",(n,s,a)=>{const{Enmity:r,EnmityPlugins:m,EnmityThemes:u}=W(_.getCurrentUser()),[d,w]=[m,u].map(c=>({navigation:i,route:g})=>(l.useEffect(()=>{g!=null&&g.hasSetHeaderRight||(g.hasSetHeaderRight=!0,i.setOptions({headerRight:()=>c.headerRight?l.createElement(b,{style:{left:12}},l.createElement(c.headerRight,null)):null}))},[]),l.createElement(c.render,null)));return{...a,[o.general.upper]:{route:o.general.route,getComponent:()=>r.render},[o.plugins.upper]:{route:o.plugins.route,getComponent:()=>d},[o.themes.upper]:{route:o.themes.route,getComponent:()=>w},[o.page.upper]:{route:o.page.route,getComponent:()=>({navigation:c,route:{params:i}})=>{var g;const R=(g=i.pagePanel)!=null?g:b;return l.useEffect(()=>{i.pageName&&!i.hasSetTitle&&(i.hasSetTitle=!0,c.setOptions({title:i.pageName}))},[]),l.createElement(R,null)}}}})};const f=p("useSettingTitle","useSettingTitles");var J=e=>{S(e,f,"useSettingTitle","title"),e.after(f,"useSettingTitles",(n,s,a)=>{const r=Object.keys(o).map(m=>({[o[m].upper]:o[m].title})).reduce((m,u)=>({...m,...u}),{});return{...a,...r}}),e.after(f,"useSettingTitlePairs",(n,s,a)=>{Object.keys(o).filter(r=>r.toLowerCase()!=="page").forEach(r=>a.push([o[r].upper,o[r].route]))})};const Q=p("useSettingIcon"),X=p("useSettingAncestorMetadata");var Z=e=>{S(e,Q,"useSettingIcon","icon"),S(e,X,"useSettingAncestorMetadata","ancestor")};const ee=h("SettingsOverviewScreen",{default:!1}),{renderSetting:te}=p("renderSetting"),I=x.createThemedStyleSheet({section:{backgroundColor:O.ThemeColorMap.BACKGROUND_PRIMARY,borderRadius:16,overflow:"hidden"},title:{paddingTop:24}});var ne=e=>{e.after(ee,"default",(n,s,a)=>{const{children:[r,m]}=z(a,i=>i.children[0].type===h("SettingsSearch")),u=m==null?void 0:m.findIndex(i=>i.props.title===D.Messages.PREMIUM_SETTINGS_GENERIC),[d,w,c]=Object.keys(o).filter(i=>i.toLowerCase()!=="page").map(i=>te({type:"route",id:o[i].upper}));m==null||m.splice(Math.abs(u),0,l.createElement(j,{key:o.general.route,accessibilityLabel:o.general.route,title:o.general.route,sectionBodyStyle:I.section,titleStyleType:"no_border",titleViewStyle:I.title,uppercaseTitle:!1,inset:!0},d,l.createElement(v,null),w,l.createElement(v,null),c))})};const y=P(E.name),oe={...E,onStart(){J(y),q(y),Z(y),ne(y)},onStop(){y.unpatchAll()}};N(oe);
