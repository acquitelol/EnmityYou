function B(e){window.enmity.plugins.registerPlugin(e)}function L(){return window.enmity.plugins.getPlugins()}function O(e){return window.enmity.patcher.create(e)}var _="EnmityYou",x="1.1.2",D="Allows you to use Enmity inside of the new You Tab. Enable from DevTools Widget \u279D Design Toggles :3",j=[{name:"Rosie<3",id:"581573474296791211"}],G="#ff91ff",C={name:_,version:x,description:D,authors:j,color:G};const V=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const d=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings;const Y=window.enmity.modules.common.Users;window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const U=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components;const H=window.enmity.modules.common.Locale;window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function p(...e){return window.enmity.modules.getByProps(...e)}function T(...e){return window.enmity.modules.getByName(...e)}window.enmity.modules.common;const{components:t}=window.enmity;t.Alert,t.Button,t.FlatList,t.Image,t.ImageBackground,t.KeyboardAvoidingView,t.Modal,t.Pressable,t.RefreshControl,t.ScrollView,t.SectionList,t.StatusBar,t.StyleSheet,t.Switch,t.Text,t.TextInput,t.TouchableHighlight,t.TouchableOpacity,t.TouchableWithoutFeedback,t.Touchable;const F=t.View;t.VirtualizedList,t.Form,t.FormArrow,t.FormCTA,t.FormCTAButton,t.FormCardSection,t.FormCheckbox;const I=t.FormDivider;t.FormHint,t.FormIcon,t.FormInput,t.FormLabel,t.FormRadio,t.FormRow;const z=t.FormSection;t.FormSelect,t.FormSubLabel,t.FormSwitch,t.FormTernaryCheckBox,t.FormText,t.FormTextColors,t.FormTextSizes;function P(e){return window.enmity.assets.getIDByName(e)}const K=["general","plugins","themes","page"],W={general:"ENMITY",plugins:"ENMITY_PLUGINS",themes:"ENMITY_THEMES",page:"ENMITY_PAGE"},f={general:"Enmity",plugins:"EnmityPlugins",themes:"EnmityThemes",page:"EnmityCustomPage"},$={general:"General",plugins:"Plugins",themes:"Themes",page:"Page"},q={general:{uri:"https://files.enmity.app/icon-64.png"},plugins:P("ic_activity_24px"),themes:P("img_nitro_star"),page:null},J={general:["Enmity"],plugins:["Enmity"],themes:["Enmity"],page:[]},Q=Object.entries(f).map(([e,o])=>({[e]:{breadcrumbs:J[e],route:o}})).reduce((e,o)=>({...e,...o}),{}),X=Object.entries(f).map(([e,o])=>({[e]:{route:o,getComponent:()=>{}}})).reduce((e,o)=>({...e,...o}),{}),n=Object.entries(f).map(([e,o])=>({[e]:{upper:W[e],route:o,title:$[e],icon:q[e],ancestor:Q[e],screen:X[e]}})).reduce((e,o)=>({...e,...o}),{});function Z(e,o,l){return window.enmity.utilities.findInReactTree(e,o,l)}function ee(e,o,l){return window.enmity.utilities.findInTree(e,o,l)}var h=(e,o,l,m)=>{e.instead(o,l,(s,r,g)=>{const u=ee(n,w=>w.upper===r[0],{walkable:Object.keys(n)});return console.log({data:n,predicate:u,type:m}),u?u[m]:g.apply(s,r)})};const N=p("useSettingScreen","useSettingScreens"),te=T("getScreens");var ne=e=>{h(e,N,"useSettingScreen","screen"),e.after(N,"useSettingScreens",(o,l,m)=>{const{Enmity:s,EnmityPlugins:r,EnmityThemes:g}=te(Y.getCurrentUser()),[u,w]=[r,g].map(a=>({navigation:i,route:c})=>(d.useEffect(()=>{c!=null&&c.hasSetHeaderRight||(c.hasSetHeaderRight=!0,i.setOptions({headerRight:()=>d.createElement(F,{style:{left:12}},d.createElement(a.headerRight,null))}))},[]),d.createElement(a.render,null)));return{...m,[n.general.upper]:{route:n.general.route,getComponent:()=>s.render},[n.plugins.upper]:{route:n.plugins.route,getComponent:()=>u},[n.themes.upper]:{route:n.themes.route,getComponent:()=>w},[n.page.upper]:{route:n.page.route,getComponent:()=>({navigation:a,route:{params:i}})=>{var c;const S=(c=i.pagePanel)!=null?c:F;return d.useEffect(()=>{i.pageName&&!i.hasSetTitle&&(i.hasSetTitle=!0,a.setOptions({title:i.pageName}))},[]),d.createElement(S,null)}},...Object.keys(n).filter(a=>!K.includes(a)).map(a=>{var i;return{route:(i=n[a])==null?void 0:i.route,getComponent:()=>{var c,S;const[ce,v,M,k]=(c=n[a])==null?void 0:c.ancestor.breadcrumbs;if(k!=="Enabled")return v==="Plugins"?u:w;const E=(S=L().find(A=>A.name===M))==null?void 0:S.getSettingsPanel;return v==="Plugins"?E!=null?E:u:w}}})}})};const b=p("useSettingTitle","useSettingTitles");var oe=e=>{h(e,b,"useSettingTitle","title"),e.after(b,"useSettingTitles",(o,l,m)=>{const s=Object.keys(n).map(r=>({[n[r].upper]:n[r].title})).reduce((r,g)=>({...r,...g}),{});return{...m,...s}}),e.after(b,"useSettingTitlePairs",(o,l,m)=>{console.log({res:m,data:n}),Object.keys(n).filter(s=>s.toLowerCase()!=="page").forEach(s=>m.push([n[s].upper,n[s].route]))})};const ie=p("useSettingIcon"),re=p("useSettingAncestorMetadata");var me=e=>{h(e,ie,"useSettingIcon","icon"),h(e,re,"useSettingAncestorMetadata","ancestor")};const se=T("SettingsOverviewScreen",{default:!1}),{renderSetting:ae}=p("renderSetting"),R=U.createThemedStyleSheet({section:{backgroundColor:V.ThemeColorMap.BACKGROUND_PRIMARY,borderRadius:16,overflow:"hidden"},title:{paddingTop:24}});var le=e=>{e.after(se,"default",(o,l,m)=>{const{children:[s,r]}=Z(m,i=>i.children[0].type===T("SettingsSearch")),g=r==null?void 0:r.findIndex(i=>i.props.title===H.Messages.PREMIUM_SETTINGS_GENERIC),[u,w,a]=Object.keys(n).filter(i=>i.toLowerCase()!=="page").map(i=>ae({type:"route",id:n[i].upper}));r==null||r.splice(Math.abs(g),0,d.createElement(z,{key:n.general.route,accessibilityLabel:n.general.route,title:n.general.route,sectionBodyStyle:R.section,titleStyleType:"no_border",titleViewStyle:R.title,uppercaseTitle:!1,inset:!0},u,d.createElement(I,null),w,d.createElement(I,null),a))})};const y=O(C.name),ue={...C,onStart(){oe(y),ne(y),me(y),le(y)},onStop(){y.unpatchAll()}};B(ue);
