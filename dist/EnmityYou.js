function v(n){window.enmity.plugins.registerPlugin(n)}function g(...n){return window.enmity.modules.getByProps(...n)}function F(...n){return window.enmity.modules.getByName(...n)}window.enmity.modules.common;function C(n){return window.enmity.patcher.create(n)}var N="EnmityYou",R="1.2.7",I="Allows you to use Enmity inside of the new You Tab. Enable from DevTools Widget \u279D Design Toggles :3",O=[{name:"Rosie<3",id:"581573474296791211"}],L="#ff91ff",p={name:N,version:R,description:I,authors:O,color:L};function h(n){return window.enmity.assets.getIDByName(n)}window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const u=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl,e.ScrollView,e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable;const S=e.View;e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio,e.FormRow,e.FormSection,e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;const w={general:"ENMITY",plugins:"ENMITY_PLUGINS",themes:"ENMITY_THEMES",page:"ENMITY_PAGE"},l={general:"Enmity",plugins:"EnmityPlugins",themes:"EnmityThemes",page:"EnmityCustomPage"},P={general:"General",plugins:"Plugins",themes:"Themes",page:"Page"},_={general:{uri:"https://files.enmity.app/icon-64.png"},plugins:h("ic_activity_24px"),themes:h("img_nitro_star"),page:null},D={general:[l.general],plugins:[l.general],themes:[l.general],page:[]},{Enmity:G,EnmityPlugins:A,EnmityThemes:B}=F("getScreens")({}),[k,x]=[A,B].map(n=>({navigation:t,route:o})=>(u.useEffect(()=>{o!=null&&o.hasSetHeaderRight||(o.hasSetHeaderRight=!0,t.setOptions({headerRight:()=>u.createElement(S,{style:{left:12}},u.createElement(n.headerRight,null))}))},[]),u.createElement(n.render,null))),j={general:{route:l.general,getComponent:()=>G.render},plugins:{route:l.plugins,getComponent:()=>k},themes:{route:l.themes,getComponent:()=>x},page:{route:l.page,getComponent:()=>({navigation:n,route:{params:t}})=>{var o;const s=(o=t.pagePanel)!=null?o:S;return u.useEffect(()=>{t.pageName&&!t.hasSetTitle&&(t.hasSetTitle=!0,n.setOptions({title:t.pageName}))},[]),u.createElement(s,null)}}},a=Object.keys(l).map(n=>({[n]:{upper:w[n],route:l[n],title:P[n],icon:_[n],breadcrumbs:D[n],screen:j[n]}})).reduce((n,t)=>({...n,...t}),{});var M=({Configurations:n})=>{Object.assign(n.SETTING_RENDERER_CONFIG,Object.values(a).map(({upper:t,icon:o,screen:s,title:i})=>({[t]:{type:"route",title:i,parent:null,screen:s,icon:o}})).reduce((t,o)=>({...t,...o}),{}))};const{SearchableSettingsList:U}=g("SearchableSettingsList");var V=({Patcher:n})=>{n.before(U,"type",(t,o)=>{const[{sections:s}]=o,i=s==null?void 0:s.findIndex(m=>m.settings.find(c=>c==="ACCOUNT"));!s.find(m=>m.label===a.general.route)&&s.splice(i===-1?1:i+1,0,{label:a.general.route,settings:[a.general.upper,a.plugins.upper,a.themes.upper]});const r=s.find(m=>m.settings.find(c=>c==="UPLOAD_DEBUG_LOGS"));r&&(r.settings=r.settings.filter(m=>m!=="UPLOAD_DEBUG_LOGS"))})};const Y=g("useSettingSearchResults"),H=g("getSettingListSearchResultItems"),$=g("getSettingSearchQuery");var z=({Patcher:n,Configurations:t})=>{n.after(Y,"useSettingSearchResults",(o,s,i)=>(i=i.filter(r=>!Object.values(w).includes(r)),Object.keys(a).filter(r=>r!=="page").forEach(r=>{const{upper:m,title:c}=a[r];[w.general,c].some(d=>d.toLowerCase().includes($.getSettingSearchQuery().toLowerCase()))&&!i.find(d=>d===m)&&i.unshift(m)}),i)),n.after(H,"getSettingListSearchResultItems",(o,[s],i)=>(i=i.filter(r=>!Object.values(w).includes(r.setting)),Object.keys(a).reverse().forEach(r=>{const{upper:m,title:c,breadcrumbs:d,icon:E}=a[r];s.includes(m)&&(i.unshift({type:"setting_search_result",ancestorSettingData:t.SETTING_RENDERER_CONFIG[m],setting:m,title:c,breadcrumbs:d,icon:E}),i.forEach((y,b,T)=>{y.index=b,y.total=T.length}))}),i))};const f=C(p.name),Q=(...n)=>{const t=g(...n);return Object.keys(t).forEach(o=>n.includes(o)&&Object.isFrozen(t[o])&&(t[o]={...t[o]})),t},W={...p,onStart(){const n=Q("SETTING_RENDERER_CONFIG");Object.entries({constants:M,sections:V,search:z}).forEach(([t,o])=>{var s;try{o({Patcher:f,Configurations:n})}catch(i){console.error(`Error when patching ${t}: ${(s=i.message)!=null?s:i}`)}})},onStop(){f.unpatchAll()}};v(W);
